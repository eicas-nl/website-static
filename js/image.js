String.prototype.replaceAll||(String.prototype.replaceAll=function(e,t){return"[object regexp]"===Object.prototype.toString.call(e).toLowerCase()?this.replace(e,t):this.replace(new RegExp(e,"g"),t)}),function(){const e=window.innerWidth||document.documentElement.clientWidth,t=window.innerHeight||document.documentElement.clientHeight;Array.from(document.getElementsByClassName("image-preview")).forEach((n=>{const o=function(n){const o=n.getBoundingClientRect();return o.width<=0||o.height<=0?-1:o.top<=t&&o.bottom>=0&&o.left<=e&&o.right>=0?1:Math.floor(1200*Math.random()+300)}(n);if(o<1)return;const r=n.parentElement.clientWidth,i=JSON.parse(n.dataset.imageHs.replaceAll("'",'"')),c=Object.keys(i).sort((function(e,t){return e-t})),l=c.length;let a,p,s;for(let e=0;e<l;e++)a=c[e],p=i[a],r<a&&(e=l+1);s=n.dataset.imagePt.replace("%w",a).replace("%h",p),window.setTimeout(((e,t)=>{e.src=t}),o,n,s)}))}();
